<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>socail-medai</title>
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
    <link rel="stylesheet" href="style.css"/>
   
   <script src="./node_modules/axios/dist/axios.js"></script>
   
    <script src="./node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- <script src="./node_modules/bootstrap-icons/font/bootstrap-icons.min.css"></script> -->
    <style>

      body{
        background-color: #f0ecff;
      }

    </style>
</head>
<body style="position: relative;">
 <a href="./ProfilePage.html">to profile</a>

    <!-- navbar -->
        <div class="container mt-2 d-flex justify-content-center " >
            <nav class="navbar navbar-expand-lg col-9 bg-body-tertiary shadow-sm rounded">
                <div class="container-fluid">
                  <div id="information" class=" d-flex align-items-center mx-2">
                   
                    <img src="https://images.pexels.com/photos/15118791/pexels-photo-15118791/free-photo-of-a-person-holding-a-picture.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load" id="img-user" style="width: 40px;height: 40px; margin-right: 10px; border-radius: 50%; object-fit: cover;background-position: center;"/>
                    <span id="name-user" class="fw-bold">elsheshatwy</span>
                 </div>
                  <!-- <a class="navbar-brand" href="#">Sheshtawy</a> -->
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                      <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="./index.html">Home</a>
                      </li>
                      <li class="nav-item">
                        <a class="nav-link" href="./ProfilePage.html">profile</a>
                      </li>
                 
                    </ul>
                    <div id="loginDiv" >
                        <button id="login" type="button" data-bs-toggle="modal" data-bs-target="#login-modal" class="btn btn-outline-success fw-bold mx-1">login</button>
                        <button id="rgister-btn" type="button" class="btn btn-outline-success fw-bold" data-bs-toggle="modal" data-bs-target="#register-modal">register</button>
                       

                    </div>
                    <div id="logoutDiv" onclick="logoud()" >
                      
                      <button  class="btn btn-outline-danger fw-bold" >Logout </button>
                    </div>
                  </div>
                
                </div>
              </nav>
          </div>
<!-- 2 -->
<!-- main content -->

<div class="container d-flex justify-content-center">
  <div class="post mt-5 col-9  " id="Posts">
    
      <div class="card">
        <div class="card-header">
          <div id="imgP"></div> 
          <div class="hed shadow-lg mb-2">
          <img id="img-profile" style="width: 40px; height: 40px; object-fit: cover;" class="  m-2 rounded-circle ">
          <span><a href="/index.html">elsheshatwy</a></span>
         </div>
          <img  class="w-100  " src="https://images.pexels.com/photos/18968224/pexels-photo-18968224/free-photo-of-light.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"/>
        </div>
        <div class="card-body">
          <h6>5 minent ago</h6>
          <h4>kkkkkkkkkkkkkkkk</h4>
          <h5>kkkkkkkkkkkkkkkk</h5>
          <hr>
          <span>
            <i class="fa-regular fa-comment"></i> ()comimnts
          </span>
        
        </div>
      </div>
    </div> 
     


  </div>

    </div>
    <div id="content" class="content">


</div>
<!-- modle -->
<div class="modal fade" id="login-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Login:</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">user_name:</label>
            <input type="text" class="form-control" id="gmail-id"  >
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label" >password:</label>
            <input class="form-control" id="password-id" ></input>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>
        <button type="button" id="btn" class="btn btn-primary">login</button>
      </div>
    </div>
  </div>
</div>
<!-- 2 register -->
<div class="modal fade" id="register-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">register:</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Your-img</label>
            <input type="file" class="form-control" id="register-img"  >
          </div>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">name:</label>
            <input type="text" class="form-control" id="name-id"  >
          </div>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">user_name:</label>
            <input type="text" class="form-control" id="register-gmail-id"  >
          </div>
          <div class="mb-3">
            <label for="message-text" class="col-form-label" >password:</label>
            <input class="form-control" id="register-password-id" ></input>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>
        <button type="button" id="btn-register" class="btn btn-primary">Register</button>
      </div>
    </div>
  </div>
</div>
<!-- 2 register -->
<!-- new post -->
<div class="modal fade" id="think" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="post-modle-title">what do you think</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Title:</label>
            <input type="text" class="form-control" id="title-post"  >
            <input type="hidden" class="form-control" id="post-edit-id" value=""  >
          </div>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">text:</label>
            <textarea type="text" class="form-control" id="text-post" ></textarea>
          </div>
          <div class="mb-3">
            <label for="recipient-name" class="col-form-label">img:</label>
            <input type="file" class="form-control" id="img-post"  >
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>
        <button type="button" id="think-edit-post" class="btn btn-primary" onclick="addpost()">add</button>
      </div>
    </div>
  </div>
</div>
<!-- new post -->


<!-- <delate -->
  <div class="modal fade" id="delate-modle" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="delate-post-title">are you sure delete your post</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- <div class="modal-body">
        
        </div> -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">close</button>
          <button type="button" id="delate-post-btn" class="btn btn-danger" onclick="deletePost()">Delete</button>

          <input type="text" id="delete-post-id-input" value="">
        </div>
      </div>
    </div>
  </div>
<!-- <delate -->
<!-- modle -->

<!-- alert -->
<div id="liveAlertPlaceholder" class="fade show " style="position:fixed;z-index: 999999;
  right: 0;bottom: 0;">
  </div>
<!-- alert -->

<div id="think" onclick="handleaddpost()"  >
<span id="blus">+</span>
</div>

<script>



let currentPage = 1
let lastPage =1

//======================= infinte scrool====================//

window.addEventListener("scroll" ,function(){
//  return boolan
  const endOfPage = window.innerHeight + window.pageYOffset >= document.body.offsetHeight;

  if (endOfPage && currentPage <lastPage) {
    currentPage =currentPage + 1
    getdatabyAxios(false ,currentPage)
 
  }

})




//======================= infinte scrool====================//

// function addpost(){ 
//      let postId =document.getElementById("post-edit-id").value
//      let iscreate =postId ==null ||postId ==""
  

//      let Title= document.getElementById("title-post").value
//      let textarea= document.getElementById("text-post").value
//      let img= document.getElementById("img-post").files[0]

//   //  createing form data
//     let formData =new FormData()
//     formData.append("title", Title)
//     formData.append( "body" ,textarea)
//     formData.append("image",img)


//         let token = localStorage.getItem("token");
//         const headers ={
//           "authorization":`Bearer ${token}`
//         }

//    if (iscreate) {
//     axios.post(('https://tarmeezacademy.com/api/v1/posts'),formData,{
         
//          headers:headers
       
//      })

//       .then(function (response) {
//           console.log(response);

//           const modal = document.getElementById("think")
//           const modleinstance = bootstrap.Modal.getInstance(modal)
//           modleinstance.hide()
//           showalert("تم انشاء المنشور بنجاح")
//       // location.reload()
//       getdatabyAxios()
//       })
//       .catch(function (error) {
//         showalert(error.response.data.message,"danger");
//           console.log(error.response.data.message)
//       });

//    }else{
//     formData.append("_method" ,"put")
//     axios.post((`https://tarmeezacademy.com/api/v1/posts/${postId}`),formData,{
         
//          headers:headers
       
//      })

//       .then(function (response) {
//           console.log(response);

//           const modal = document.getElementById("think")
//           const modleinstance = bootstrap.Modal.getInstance(modal)
//           modleinstance.hide()
//           showalert("تم انشاء المنشور بنجاح")
//       location.reload()

//       })
//       .catch(function (error) {
//         showalert(error.response.data.message,"danger");
//           console.log(error.response.data.message)
//       });

//    }








//     //     axios.post(('https://tarmeezacademy.com/api/v1/posts'),formData,{
         
//     //      headers:headers
       
//     //  })

//     //   .then(function (response) {
//     //       console.log(response);

//     //       const modal = document.getElementById("think")
//     //       const modleinstance = bootstrap.Modal.getInstance(modal)
//     //       modleinstance.hide()
//     //       showalert("تم انشاء المنشور بنجاح")
//     //   location.reload()

//     //   })
//     //   .catch(function (error) {
//     //     showalert(error.response.data.message,"danger");
//     //       console.log(error.response.data.message)
//     //   });

   


// }



  </script>
</body>

<script src="./main.js"></script>
<script src="./profile.js"></script>
</html>